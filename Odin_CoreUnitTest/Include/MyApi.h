#pragma once
#include "OEApplicationBase.h"
#include "OETexture2D.h"
#include "OESampler.h"
#include "OEBuffer.h"
#include "OEPixelShader.h"
#include "OEVertexShader.h"
#include <Camera.h>

namespace OE_SDK
{
	class MyApi : public C_ApplicationBase
	{
	public:

		MyApi();
		virtual ~MyApi();

		

		//////////////////////////////////////////////////////////////////////////
		////////////////////////////////Métodos///////////////////////////////////
		//////////////////////////////////////////////////////////////////////////
		virtual void InitResources(int width, int Height);
		virtual void Render();
		

		//////////////////////////////////////////////////////////////////////////
		////////////////////////////////Miembros//////////////////////////////////
		//////////////////////////////////////////////////////////////////////////
		

		//Cámara
		C_Camera myCam;
		
		//Shaders
		OEPixelShader m_PShader;
		OEVertexShader m_VShader;
		
		//Input Layout
		OEInputLayout LayOut;

		//Texturas
		OETexture2D m_Color;
		OETexture2D m_Normal;

		//Samplers
		OESampler m_SamplerColor;
		OESampler m_NormalSampler;



		//Buffers
		OEBuffer m_DirectionalLightBuffer;
	
		//////////////////////////////////////////////////////////////////////////
		OEBuffer m_WorldMatrixBuffer;
		//////////////////////////////////////////////////////////////////////////
		OEBuffer m_ViewMatrixBuffer;
		//////////////////////////////////////////////////////////////////////////
		OEBuffer m_ProjMatrixBuffer;
		//////////////////////////////////////////////////////////////////////////
		
		OEBuffer m_ScaleBuffer;
		//////////////////////////////////////////////////////////////////////////
		OEBuffer m_RotateXBuffer;
		OEBuffer m_RotateYBuffer;
		OEBuffer m_RotateZBuffer;
		//////////////////////////////////////////////////////////////////////////
		OEBuffer m_TranslateBuffer;
		//////////////////////////////////////////////////////////////////////////
		
		//MAtrix
		C_Matrix4  m_ViewMatrix;
		//////////////////////////////////////////////////////////////////////////
		C_Matrix4 m_Scale;
		//////////////////////////////////////////////////////////////////////////
		C_Matrix4 m_RotateX;
		C_Matrix4 m_RotateY;
		C_Matrix4 m_RotateZ;
		//////////////////////////////////////////////////////////////////////////
		C_Matrix4 m_Translate;
		//////////////////////////////////////////////////////////////////////////
		C_Matrix4  m_ProjectionMatrix;
		C_Matrix4  m_WorldMatrix;
		C_Vector4f m_DirectionalLight;



		//3D Model
		OEModel myModel;

	


	protected:
		//struct ApiData;
	//	ApiData* m_GraphicsAPI;

	};
}